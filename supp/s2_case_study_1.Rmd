---
title: "Case study: Effectiveness of intactness and human influence maps at detecting linear and polygonal disturbances associated with placer mining in the Yukon"
date: "November 13, 2021"
author: "Vernier et al."
output:
  html_document:
    keep_md: false
    toc: false
    css: styles.css
---

---

# Introduction

This first case study is from west-central Yukon Territory near the Alaska border (Figure 1) where placer mining, the technique of recovering gold from gravel along streams and rivers, is a relatively common land use activity with claims extending across more than 2 200 km2 of the Territory. The study area consists of the Indian River watershed, an area comprising numerous streams and rivers that is actively being mined for gold. We used two recently produced datasets to identify linear and polygon disturbances associated with placer mining. The earlier dataset was developed in 2010 for an area larger than the Indian River watershed (Mammoth Mapping 2010) while the later dataset was an update for a smaller area i.e., the Indian River watershed (Drift Geomatics 2017). We intersected the vectorized versions of the intactness maps with the two linear and polygonal disturbance maps to identify areas that were erroneously mapped as being intact. We matched the year of the disturbance data to the closest year of the intactness map i.e., we used to the 2017 disturbance datasets to evaluate GIFL2016, VLIA2015 and GHM2016 and the 2010 datasets to evaluate HA2010, CIFL2013, HFP2013, and AB2015 datasets. The FF1996 dataset was not used since they did not occur in the study area.

Figure 1. Distribution of linear and polygonal disturbances associated with placer mining in the Indian river watershed, Yukon.
<img src="output/yt_study_region.png">

---

# Results

Among the 7 datasets we analysed, the GIFL2016 misclassified the least amount of both linear and polygonal anthropogenic disturbances (0.0% and 1.9%, respectively; Table 1). However, the GIFL2016 map also identified only 12.3% of the study region as being intact, far less than the CIFL2013 and HFP2013 which identified 49% and 55% of the area as intact, respectively. Three of the datasets, VLIA2015, GHM2016 and AB2015, identified 92-96% of the watershed as being intact and, consequently had very high rates of misclassification, ranging from 66-95% for linear disturbances and 88-98% for polygonal disturbances. The other two datasets, CIFL2013 and HA2010 misclassified a moderate amount of both polygonal (12% and 22%, respectively) and linear (21% and 38%, respectively) disturbances, the difference between the two datasets likely due to the minimum patch size requirement used the former dataset.


```{r echo=FALSE, message=F, warning=F}
library(tidyverse)
x = read_csv("output/yt_output.csv") %>%
    select(map,intact_pct,mining_km2,mining_omitted_pct,roads_km,roads_omitted_pct)
names(x) = c("Dataset","Intact area (%)","Polygonal disturb (km2)","Polygonal error (%)","Linear disturb (km)","Linear error (%)")
knitr::kable(x, caption="Table 1. Polygonal (placer mining) and linear (mostly roads) disturbances wrongly classified as intact in the Indian River watershed, Yukon (2,257.4 km2).")
```

---

Figure 2. Coverage of linear and polygonal anthropogenic disturbances, and areas identified as intact by seven intactness and human influence datasets.

```{r echo=FALSE, message=F, warning=F}
#stopFun = function() {
library(sf)
library(leaflet)
library(knitr)
library(rgdal)
library(tidyverse)

dataDir <- 'C:/Users/PIVER37/Documents/gisdata/intactness/yt/'
bnd1 = st_read(paste0(dataDir,"bnd.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
bnd2 = st_read(paste0(dataDir,"dlup.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
ha2010 = st_read(paste0(dataDir,"ha2010.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
cifl2013 = st_read(paste0(dataDir,"cifl2013.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
gifl2016 = st_read(paste0(dataDir,"gifl2016.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
ab2015 = st_read(paste0(dataDir,"ab2015.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
hf2013 = st_read(paste0(dataDir,"hfp2013.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
hfp2019 = st_read(paste0(dataDir,"hfp2019.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
vlia2015 = st_read(paste0(dataDir,"vlia2015.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
ghm2016 = st_read(paste0(dataDir,"ghm2016.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
mining2010 = st_read (paste0(dataDir,"mining2010.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
mining2017 = st_read (paste0(dataDir,"mining2017.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
roads2017 = st_read(paste0(dataDir,"roads2017.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))
roads2010 = st_read(paste0(dataDir,"roads2010.shp"), quiet=T) %>% st_transform(CRS("+proj=longlat +datum=WGS84"))

m <- leaflet(bnd1, width=900, height=600) %>%
    addProviderTiles("Esri.NatGeoWorldMap", group="Map") %>%
    addProviderTiles("Esri.WorldImagery", group="Imagery") %>%
    addPolylines(data=roads2017, weight=1, color="black", group="Roads 2017") %>%
    addPolylines(data=roads2010, weight=1, color="black", group="Roads 2010") %>%
    addPolygons(data=bnd1, fill=F, weight=2, color="black", fillOpacity=1, group="Indian River") %>%
    addPolygons(data=bnd2, fill=F, weight=2, color="black", fillOpacity=1, group="Dawson LUP") %>%
    addPolygons(data=mining2017, fill=T, weight=1, color="darkred", fillOpacity=0.5, group="Mining 2017") %>%
    addPolygons(data=mining2010, fill=T, weight=1, color="blue", fillOpacity=0.5, group="Mining 2010") %>%
    addPolygons(data=cifl2013, fill=T, weight=2, color="red", fillOpacity=0.5, group="CIFL2013") %>%
    addPolygons(data=ha2010, fill=T, weight=2, color="darkred", fillOpacity=0.5, group="HA2010") %>%
    addPolygons(data=gifl2016, fill=T, weight=2, color="darkgreen", fillOpacity=0.5, group="GIFL2016") %>%
    addPolygons(data=ab2015, fill=T, weight=2, color="darkblue", fillOpacity=0.5, group="AB2015") %>%
    addPolygons(data=hf2013, fill=T, weight=2, color="darkblue", fillOpacity=0.5, group="HFP2013") %>%
    addPolygons(data=hfp2019, fill=T, weight=2, color="darkblue", fillOpacity=0.5, group="CHFP2019") %>%
    addPolygons(data=vlia2015, fill=T, weight=2, color="blue", fillOpacity=0.5, group="VLIA2015") %>%
    addPolygons(data=ghm2016, fill=T, weight=2, color="blue", fillOpacity=0.5, group="GHM2016") %>%
    addLayersControl(position = "topright",
        baseGroups=c("Map", "Imagery"),
        overlayGroups = c("Dawson LUP","Indian River","Roads 2010","Roads 2017","Mining 2010","Mining 2017","HA2010","CIFL2013","GIFL2016","AB2015","HFP2013","CHFP2019","VLIA2015","GHM2016"),
        options = layersControlOptions(collapsed = FALSE)) %>%
        hideGroup(c("Roads 2017","Roads 2010","Mining 2017","Mining 2010","HA2010","CIFL2013","GIFL2016","AB2015","HFP2013","CHFP2019","VLIA2015","GHM2016"))

m
#}
```

---

# References

Mammoth Mapping. 2010. Final Report: Mapping of surface disturbance and linear features in the Dawson Land Use Planning Region. Prepared for Environment Yukon. 7 pages.

Drift Geomatics. 2017. Review and Update Surface Disturbance Indian River Study Areas, Yukon. Submitted to Department of Environment, Government of Yukon.
